from modular.common.SqlChangeFormat import SqlChangeFormatfrom modular.mysql_connect import connect_dbfrom modular.sqlserve_connect import serverConnect_db# wmsdb = "ods_mysql"class connect_DB(object):    def __new__(cls,wms_db, *args, **kwargs):        # 类对象唯一        if not hasattr(connect_sqlserve, "_instance"):            cls.__instance = super(connect_DB, cls).__new__(cls)        return cls.__instance    def __init__(self, wms_db="ods_mysql"):        # wmsdb = connect_db(wmsdb="ods_mysql")        self.wmsdb = connect_db(wms_db)        self.cursor = self.wmsdb.cursor()        # return self.cursor    def execute(self, sql):        self.cursor.execute(sql)    def fetchone(self, sql):        self.execute(sql)        return self.cursor.fetchone()    def fetchall(self, sql):        self.execute(sql)        return self.cursor.fetchall()    def commit(self):        self.wmsdb.commit()    def close(self):        self.wmsdb.close()        pass    def executeAndcommit(self,sql):        self.cursor.execute(sql)        self.wmsdb.commit()    def commitAndClose(self):        self.commit()        self.close()class ConnectWSPdb(connect_DB):    def __new__(cls, *args, **kwargs):        # 类对象唯一        if not hasattr(connect_sqlserve, "_instance"):            cls.__instance = super(ConnectWSPdb, cls).__new__(cls)        return cls.__instance    def __init__(self, wms_db="wsp_mysql"):        self.wmsdb = connect_db(wms_db)        self.cursor = self.wmsdb.cursor()class connect_sqlserve(object):    def __init__(self, server_db='sql_servetest'):        # wmsdb = connect_db(wmsdb="ods_mysql")        self.wmsdb = serverConnect_db(server_db)        # self.cursor = self.wmsdb.cursor()        self.cursor = self.wmsdb.cursor(as_dict=True)        # return self.cursor    def __new__(cls,server_db='sql_servetest'):        # 类对象唯一        if not hasattr(connect_sqlserve,"_instance"):            cls.__instance = super(connect_sqlserve,cls).__new__(cls)        return cls.__instance    def execute(self, sql):        self.cursor.execute(sql)    def fetchone(self, sql):        self.execute(sql)        return self.cursor.fetchone()    def fetchall(self, sql):        self.execute(sql)        return self.cursor.fetchall()    def commit(self):        self.wmsdb.commit()    def close(self):        self.wmsdb.close()        pass    def executeAndcommit(self,sql):        self.cursor.execute(sql)        self.wmsdb.commit()    def commitAndClose(self):        self.commit()        self.close()